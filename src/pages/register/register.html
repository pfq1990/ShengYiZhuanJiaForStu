<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="secondary">
    <ion-title>注册账号</ion-title>
  </ion-navbar>

</ion-header>


<ion-content no-padding>

  <div margin-top="10px" text-center >
    <img class="logo" src="assets/images/logo.png">
  </div>

  <ion-grid>
    <ion-row padding>
      <ion-col>
        <img src="assets/images/registered_one.png" alt="" *ngIf="registerSlides.getActiveIndex()!=0">
        <img src="assets/images/registered_one_one.png" alt="" *ngIf="registerSlides.getActiveIndex()==0">
      </ion-col>
      <ion-col align-self-center>
        <hr class="line">
      </ion-col>
      <ion-col>
        <img src="assets/images/registered_two.png" alt="" *ngIf="registerSlides.getActiveIndex()!=1">
        <img src="assets/images/registered_two_two.png" alt="" *ngIf="registerSlides.getActiveIndex()==1">
      </ion-col>
      <ion-col align-self-center>
        <hr class="line">
      </ion-col>
      <ion-col>
        <img src="assets/images/registered_three.png" alt="" *ngIf="registerSlides.getActiveIndex()!=2">
        <img src="assets/images/registered_three_three.png" alt="" *ngIf="registerSlides.getActiveIndex()==2">
      </ion-col>
      <ion-col align-self-center>
        <hr class="line">
      </ion-col>
      <ion-col>
        <img src="assets/images/register_four.png" alt="" *ngIf="registerSlides.getActiveIndex()!=3">
        <img src="assets/images/register_four_four.png" alt="" *ngIf="registerSlides.getActiveIndex()==3">
      </ion-col>
    </ion-row>
  </ion-grid>

<div >
  <ion-slides #registerSlides>
    <ion-slide>
      <form>
        <ion-list>
          <ion-item>
            <ion-label floating>
              手机号码
            </ion-label>
            <ion-input type="number" name="phone" placeholder="" required  pattern="^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,3,5-9]))\\d{8}$" [(ngModel)]="register.phone" #phone="ngModel" ></ion-input>
          </ion-item>

          <ion-item *ngIf="phone.invalid && phone.touched">
            <p [hidden]="!phone.errors?.required">请输入手机号码</p>
            <p [hidden]="!phone.errors?.pattern">您输入的手机号格式不正确</p>
          </ion-item>

        </ion-list>

        <div padding>
          <button ion-button block color="secondary" [disabled]="phone.invalid" (click)="toValidate()">下一步</button>
        </div>

      </form>
    </ion-slide>
    <ion-slide>
    <form>

      <div padding>

        <ion-row>
          <ion-col col-8>
              <ion-input type="number" name="code" required placeholder="请输入验证码" [(ngModel)]="register.code" #code="ngModel" ></ion-input>
            <ion-item *ngIf="code.invalid && code.touched" class="invalid">
              <p style="color: red"[hidden]="!code.errors?.required">请输入验证码</p>
            </ion-item>
          </ion-col>
          <ion-col col-4>
            <button ion-button block color="secondary" (click)="send()" [disabled]="isSend">{{timerText}}</button>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <button ion-button outline block color="secondary" (click)="previous()">上一步</button>
          </ion-col>
          <ion-col>
            <button ion-button block color="secondary" [disabled]="code.invalid" (click)="validateCode()">下一步</button>
          </ion-col>
        </ion-row>


      </div>

    </form>
    </ion-slide>
    <ion-slide>
    <form>

      <div padding>

        <ion-row>
          <ion-item>
            <ion-label stacked>店铺名称</ion-label>
            <ion-input name="shopName" required type="text" placeholder="请输入店铺名称" [(ngModel)]="register.shopName" #shopName="ngModel" ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>电子邮箱</ion-label>
            <ion-input name="email" type="text" placeholder="请输入电子邮箱" [(ngModel)]="register.email" #email="ngModel"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>登录密码</ion-label>
            <ion-input name="password" type="password" placeholder="请输入登录密码" [(ngModel)]="register.password" #password="ngModel"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>确认密码</ion-label>
            <ion-input name="confirmPassword" type="password" placeholder="请确认登录密码" [(ngModel)]="register.confirmPassword" #confirmPassword="ngModel"></ion-input>
          </ion-item>

        </ion-row>

        <ion-row>
          <ion-col>
            <button ion-button outline block color="secondary" (click)="previous()">上一步</button>
          </ion-col>
          <ion-col>
            <button ion-button block color="secondary" [disabled]="shopName.invalid||email.invalid||password.invalid||confirmPassword.invalid" (click)="toSuccess()">下一步</button>
          </ion-col>
        </ion-row>


      </div>

    </form>
    </ion-slide>
    <ion-slide>
    <form>

      <div padding>

        <ion-row>

          <div margin-top="20px" text-center >恭喜您，已经注册成功！！</div>

        </ion-row>

        <ion-row>
          <ion-col>
            <button ion-button outline block color="secondary" (click)="previous()">上一步</button>
          </ion-col>
          <ion-col>
            <button ion-button block color="secondary" (click)="login()">登录</button>
          </ion-col>
        </ion-row>
      </div>

    </form>
    </ion-slide>
  </ion-slides>
</div>
</ion-content>
<copyright [bottom]="'20px'" ></copyright>
